"use strict";const e=require("../common/vendor.js"),o=require("./config.js"),t=require("./api.js");exports.request=function(n,i={}){console.log(n,i,"获取请求的参数");let{params:s,contentType:a,isBody:r="true",query:p="",callBack:c}=i,d=[],u=o.proUrl+t.api[n].url+p;d={"Ac-Token":e.index.getStorageSync("token")||"","Content-Type":t.api[n].contentType?t.api[n].contentType:"application/json",Accept:"application/json"},e.index.request({url:u,data:i.params,header:d,method:null==t.api[n].method?"POST":t.api[n].method,dataType:"json",responseType:void 0===i.responseType?"text":i.responseType,success:function(o){const{data:{code:t,data:n,message:i}}=o;1200===t?c(n):e.index.showToast({title:i,icon:"error"})},fail:function(o){e.index.hideLoading(),setTimeout((()=>{e.index.showToast({title:"服务器打了个盹~",icon:"none"})}),1)}})};
