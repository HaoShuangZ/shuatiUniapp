"use strict";const e=require("../../../../common/vendor.js"),t={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default:()=>({width:"auto",height:"auto",border:{}})},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle(){const{width:e="auto",height:t="auto"}=this.styles;let o={};"auto"===t?"auto"!==e?(o.height=this.value2px(e),o["padding-top"]=0):o.height=0:(o.height=this.value2px(t),o["padding-top"]=0),o.width="auto"===e?"auto"!==t?this.value2px(t):"33.3%":this.value2px(e);let s="";for(let i in o)s+=`${i}:${o[i]};`;return s},borderStyle(){let{border:e}=this.styles,t={};if("boolean"==typeof e)t.border=e?"1px #eee solid":"none";else{let o=e&&e.width||1;o=this.value2px(o);let s=e&&e.radius||3;s=this.value2px(s),t={"border-width":o,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":s}}let o="";for(let s in t)o+=`${s}:${t[s]};`;return o}},methods:{uploadFiles(e,t){this.$emit("uploadFiles",e)},choose(){this.$emit("choose")},delFile(e){this.$emit("delFile",e)},prviewImage(t,o){let s=[];1===Number(this.limit)&&this.disablePreview&&!this.disabled&&this.$emit("choose"),this.disablePreview||(this.filesList.forEach((e=>{s.push(e.url)})),e.index.previewImage({urls:s,current:o}))},value2px:e=>("number"==typeof e?e+="px":-1===e.indexOf("%")&&(e=-1!==e.indexOf("px")?e:e+"px"),e)}};const o=e._export_sfc(t,[["render",function(t,o,s,i,l,r){return e.e({a:e.f(s.filesList,((t,o,i)=>e.e({a:t.url,b:e.o((e=>r.prviewImage(t,o)),o)},s.delIcon&&!s.readonly?{c:e.o((e=>r.delFile(o)),o)}:{},{d:t.progress&&100!==t.progress||0===t.progress},t.progress&&100!==t.progress||0===t.progress?{e:-1===t.progress?0:t.progress,f:t.errMsg?"#ff5a5f":"#EBEBEB"}:{},{g:t.errMsg},t.errMsg?{h:e.o((e=>r.uploadFiles(t,o)),o)}:{},{i:o}))),b:s.delIcon&&!s.readonly,c:e.s(r.borderStyle),d:e.s(r.boxStyle),e:s.filesList.length<s.limit&&!s.readonly},s.filesList.length<s.limit&&!s.readonly?{f:e.s(r.borderStyle),g:e.o(((...e)=>r.choose&&r.choose(...e))),h:e.s(r.boxStyle)}:{})}]]);wx.createComponent(o);
