"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/util.js"),n=require("../../utils/wechat.js");require("../../utils/http.js"),require("../../utils/config.js"),require("../../utils/api.js");const t={data(){return{isChecked:!0,userPhone:"158*****8022",loginType:1,buttonText:"立即注册",disabledCode:!1,codeText:"获取验证码",styles:{width:"70%!important"},formData:{phone:"",code:"",password:"",repassword:""},rules:{phone:{rules:[{required:!0,errorMessage:"手机号必填"},{validateFunction:function(e,n,t,i){return n.length<11?i("请输入11位手机号"):o.checkPhoneNumber(n)||i("手机号格式不正确"),!0}}]},password:{rules:[{required:!0,errorMessage:"请输入密码"},{trigger:"blur",validateFunction:function(e,o,n){""===o&&n(new Error("请输入密码"))}}]},repassword:{rules:[{required:!0,errorMessage:"确认密码不能为空"},{trigger:"blur",validateFunction:(e,o,n,t)=>{""===o?t("请再次输入密码"):o!==this.formData.password&&(t("两次输入密码不一致!"),this.$refs.form.validateField("password"))}}]},code:{rules:[{require:!0,errorMessage:"验证码不能为空"},{validateFunction:function(e,o,n,t){o.length<4&&t("验证码为四位数字")}}]}}}},onReady(){},onLoad(){console.log("onLoad");let e={callBack:o=>{console.log("回调函数",o),n.wechat.wxLogin(e)}};o.getNavBarHieht(),n.wechat.wxLogin(e)},mounted(){},methods:{getPhoneNumber(e){console.log(e,"eeeeee"),n.wechat.getUserPhone(e.detail)},bindGetUserInfo(e){console.log(e,"获取用户信息")},loginPhoneClick(){this.loginType=2},checkedRadio(){console.log("123"),this.isChecked=!this.isChecked},formSubmit(e){this.$refs.form.validate().then((e=>{console.log("表单数据信息：",e)})).catch((e=>{console.log("表单错误信息：",e)}))},formReset(){},onSendCode(){console.log("time"),this.$refs.form.validateField("phone").then((e=>{console.log(e,"手机号校验");let o=this,n=60;o.getPhoneCode();let t=setInterval((function(){this.disabledCode=!0,0===n?(o.disabledCode=!1,clearInterval(t),o.codeText="发送验证码",n=60):(o.codeText=`${n}秒后重发`,n--)}),1e3)})).catch((e=>{console.log("手机号必填",e)}))},getPhoneCode(){let o={params:{phone:this.formData.phone},callBack:o=>{console.log(o,"getPhoneCode"),e.index.showToast({title:"验证码发送成功"})}};this.$http("getPhoneCode",o)},region(){console.log("this.buttonText",this.buttonText),this.loginType=2===this.loginType?3:2,this.buttonText=2===this.loginType?"立即注册":"返回登陆",console.log("立即注册")},forget(){this.loginType=4,this.buttonText="返回登陆",console.log("忘记密码")}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const i=e._export_sfc(t,[["render",function(o,n,t,i,l,r){return e.e({a:4===l.loginType},(l.loginType,{}),{b:1===l.loginType},1===l.loginType?{c:e.o(((...e)=>r.getPhoneNumber&&r.getPhoneNumber(...e)))}:{},{d:2===l.loginType},2===l.loginType?{e:e.o((e=>l.formData.phone=e)),f:e.p({trim:"all",maxlength:"11",type:"number",placeholder:"请输入手机号",modelValue:l.formData.phone}),g:e.p({name:"phone"})}:{},{h:2===l.loginType||3===l.loginType},2===l.loginType||3===l.loginType?{i:e.o((e=>l.formData.code=e)),j:e.p({styles:l.styles,maxlength:"6",type:"number",placeholder:"请输入验证码",modelValue:l.formData.code}),k:e.t(l.codeText),l:e.n(1==l.disabledCode?"code_text_tap":"code_text"),m:e.o(((...e)=>r.onSendCode&&r.onSendCode(...e))),n:l.disabledCode,o:e.p({name:"code"})}:{},{p:3===l.loginType||4===l.loginType},3===l.loginType||4===l.loginType?{q:e.o((e=>l.formData.password=e)),r:e.p({type:"password",placeholder:"请输入密码",modelValue:l.formData.password}),s:e.p({trim:"all",name:"password"})}:{},{t:4===l.loginType},4===l.loginType?{v:e.o((e=>l.formData.repassword=e)),w:e.p({type:"password",placeholder:"请再次输入新密码",modelValue:l.formData.repassword}),x:e.p({trim:"all",name:"repassword"})}:{},{y:1!==l.loginType},1!==l.loginType?{z:e.t(l.buttonText),A:e.o(((...e)=>r.region&&r.region(...e))),B:e.o(((...e)=>r.forget&&r.forget(...e)))}:{},{C:1!==l.loginType},1!==l.loginType?{D:e.t(3===l.loginType?"注册":"登陆"),E:e.o(((...e)=>r.formSubmit&&r.formSubmit(...e)))}:{},{F:l.isChecked,G:e.o(((...e)=>r.checkedRadio&&r.checkedRadio(...e))),H:1!==l.loginType},1!==l.loginType?{I:e.o(((...e)=>o.loginIconClick&&o.loginIconClick(...e)))}:{},{J:1===l.loginType},1===l.loginType?{K:e.o(((...e)=>r.loginPhoneClick&&r.loginPhoneClick(...e)))}:{},{L:e.sr("form","8ce00200-0"),M:e.p({border:!1,rules:l.rules,model:l.formData,"label-position":"left"})})}]]);wx.createPage(i);
