"use strict";const t=require("../../common/vendor.js"),e={onLoad(){this.getCategoryTypeList()},onShow(){this.getCategoryTypeList()},methods:{confirm(t){this.getDocumentList()},goDocumentView(e){console.log(e),t.index.setStorageSync("docDetail",e),t.index.navigateTo({url:"../docView/docView"})},typeChange(t){this.currentCategoryId=t.categoryId,this.getDocumentList(),this.questionList.map((e=>{e.line=!1,e.categoryId===t.categoryId&&(e.line=!0)}))},categoryInit(t){this.questionList=[{categoryId:"",categoryName:"全部",children:[],level:1,line:!0,parentFlag:!0,parentId:0},...t]},getCategoryTypeList(){let e={callBack:e=>{e.length>1&&(console.log(e,"res"),t.index.setStorageSync("categoryParams",e),this.categoryInit(e),this.getDocumentList())}},o=t.index.getStorageSync("categoryParams");o?(this.categoryInit(o),this.getDocumentList()):this.$http("getCategoryType",e)},getDocumentList(){let t={params:{categoryId:this.currentCategoryId,docName:this.docName,page:1,size:100},callBack:t=>{this.documentList=t.records}};this.$http("getDocumentList",t)}},data:()=>({searchVal:"",currentCategoryId:"",questionList:[],docName:"",documentList:[],statusBarHeight:t.wx$1.getStorageSync("statusBarHeight")+"px",navigationBarHeight:t.wx$1.getStorageSync("navigationBarHeight")+"px",menuButtonHeight:t.wx$1.getStorageSync("menuButtonHeight")+"px",navigationBarAndStatusBarHeight:t.wx$1.getStorageSync("statusBarHeight")+t.wx$1.getStorageSync("navigationBarHeight")+"px"})};if(!Array){(t.resolveComponent("uni-nav-bar")+t.resolveComponent("uni-section"))()}Math||((()=>"../../uni_modules/uni-nav-bar/components/uni-nav-bar/uni-nav-bar.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js"))();const o=t._export_sfc(e,[["render",function(e,o,n,a,i,c){return t.e({a:t.o(((...t)=>c.confirm&&c.confirm(...t))),b:i.docName,c:t.o((t=>i.docName=t.detail.value)),d:t.o(((...t)=>c.confirm&&c.confirm(...t))),e:i.navigationBarAndStatusBarHeight,f:t.p({"status-bar":!0,leftWidth:0,title:""}),g:t.f(i.questionList,((e,o,n)=>({a:e.categoryId,b:t.o((t=>c.typeChange(e)),e.categoryId),c:"27b8e78c-1-"+n,d:t.p({title:e.categoryName,type:e.line?"line":""})}))),h:i.documentList.length>0},i.documentList.length>0?{i:t.f(i.documentList,((e,o,n)=>({a:".docx"===e.type?"../../static/doc.png":`../../static/${e.type}.png`,b:t.t(e.docName),c:t.t(e.type),d:t.t(e.downloadNum||0),e:o,f:t.o((t=>c.goDocumentView(e)),o)})))}:{})}]]);wx.createPage(o);
