"use strict";const e=require("../../common/vendor.js"),r={onShow(e){console.log("跳转支付页面",e)},data:()=>({activeColor:"#fff",current:0,currentIndex:0,items:["SVIP会员","VIP会员"],titleList:["搜题服务","文档服务","刷题服务","其他服务"],styleType:"text",vipPayType:[],vipType:[{label:"连续包月",priceTotal:"68",price:"SVIP特属优惠"},{label:"12个月",priceTotal:"988",price:"82.3/月"},{label:"6个月",priceTotal:"988",price:"82.3/月"},{label:"3个月",priceTotal:"988",price:"82.3/月"}],documentList:[]}),watch:{},onLoad(){this.postVipList()},methods:{onClickItem(r){this.current!==r.currentIndex&&(this.current=r.currentIndex,console.log("e.currentIndex",r.currentIndex),this.currentIndex=0,1===this.current?e.index.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#4674F6",animation:{duration:400,timingFunc:"easeIn"}}):(this.currentIndex=0,e.index.setNavigationBarColor({frontColor:"#ffffff",backgroundColor:"#28241C",animation:{duration:400,timingFunc:"easeIn"}})))},postVipList(){let e={params:{type:"",page:"",size:""},callBack:e=>{console.log(e.records,"会员信息1");let r=[],t=[];e.records.map(((e,i)=>{0===i&&(r=[{vipCode:"1002",label:"12个月",priceTotal:e.yearPrice,desc:e.vipType,payType:"year_price",vipId:e.vipConfigId,price:Number((e.yearPrice/12).toFixed(2))+"/月"},{vipCode:"1002",label:"3个月",priceTotal:e.quarterPrice,desc:e.vipType,vipId:e.vipConfigId,payType:"quarter_price",price:Number((e.quarterPrice/3).toFixed(2))+"/月"},{vipCode:"1002",label:"1个月",priceTotal:e.monthPrice,desc:e.vipType,vipId:e.vipConfigId,payType:"month_price"}]),1===i&&(t=[{vipCode:"1001",label:"12个月",priceTotal:e.yearPrice,desc:e.vipType,payType:"year_price",vipId:e.vipConfigId,price:Number((e.yearPrice/12).toFixed(2))+"/月"},{vipCode:"1001",label:"3个月",priceTotal:e.quarterPrice,desc:e.vipType,vipId:e.vipConfigId,payType:"quarter_price",price:Number((e.quarterPrice/3).toFixed(2))+"/月"},{vipCode:"1001",label:"1个月",priceTotal:e.monthPrice,desc:e.vipType,vipId:e.vipConfigId,payType:"month_price"}])})),this.vipPayType=[[...r],[...t]]}};this.$http("postVipList",e)},userWxPay(e){console.log("支付选项",e);let r={params:{vipCode:e.vipCode,desc:e.desc,payType:e.payType,vipId:e.vipId},callBack:e=>{this.wxRequestPayment(e)}};this.$http("wxPay",r)},selectPayType(e,r){this.currentIndex=r},wxRequestPayment(r){e.wx$1.requestPayment({timeStamp:r.timeStamp,nonceStr:r.nonceStr,package:r.package,signType:r.signType,paySign:r.paySign,success(r){console.log("res调用微信支付",r),e.index.showToast({title:"开通成功!",icon:"success",duration:"1500"}),setTimeout((()=>{}),2e3)},fail(e){}})}}};if(!Array){e.resolveComponent("uni-segmented-control")()}Math;const t=e._export_sfc(r,[["render",function(r,t,i,c,p,o){return e.e({a:e.o(o.onClickItem),b:e.p({current:p.current,values:p.items,"style-type":p.styleType,"active-color":p.activeColor}),c:0===p.current},0===p.current?{d:e.f(p.vipPayType[0],((r,t,i)=>({a:e.t(r.label),b:e.t(r.priceTotal),c:e.t(r.price),d:p.currentIndex===t?1:"",e:0==p.current&&p.currentIndex===t?1:"",f:1==p.current&&p.currentIndex===t?1:"",g:r,h:e.o((e=>o.selectPayType(r,t)),r)}))),e:e.o((e=>o.userWxPay(p.vipPayType[p.current][p.currentIndex])))}:{f:e.f(p.vipPayType[1],((r,t,i)=>({a:e.t(r.label),b:p.currentIndex===t?1:"",c:e.t(r.priceTotal),d:e.t(r.price),e:p.currentIndex===t?1:"",f:p.currentIndex===t?1:"",g:t,h:e.o((e=>o.selectPayType(r,t)),t)}))),g:e.o((e=>o.userWxPay(p.vipPayType[p.current][p.currentIndex])))},{h:e.s(1===p.current?"background-color: #4674f6;":"background: linear-gradient(90deg, #28241C 0%, #4A4133 100%)")})}]]);wx.createPage(t);
