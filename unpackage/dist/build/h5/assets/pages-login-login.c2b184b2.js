import{q as e,t as o,I as l,a0 as t,o as a,d as s,w as n,m as i,e as r,i as d,j as c,f as u,G as p,E as f,l as m,T as h,D as g,a1 as y,a2 as _}from"./index-708d8c77.js";import{_ as x}from"./uni-easyinput.887c0857.js";import{r as k}from"./uni-app.es.83c46ea6.js";import{_ as b,a as T}from"./uni-forms.59b93cf5.js";import{_ as C}from"./logo.4ac6371f.js";import{_ as w}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.45c91a6e.js";const v=""+new URL("weixin-6158a879.png",import.meta.url).href,D=""+new URL("phone-89ec802d.png",import.meta.url).href;const V=w({data(){return{isChecked:!0,userPhone:"158*****8022",loginType:1,buttonText:"立即注册",disabledCode:!1,codeText:"获取验证码",styles:{width:"70%!important"},formData:{phone:"",code:"",password:"",repassword:""},rules:{phone:{rules:[{required:!0,errorMessage:"手机号必填"},{validateFunction:function(e,o,l,t){return o.length<11?t("请输入11位手机号"):/^[1]([3-9])[0-9]{9}$/.test(o)||t("手机号格式不正确"),!0}}]},password:{rules:[{required:!0,errorMessage:"请输入密码"},{trigger:"blur",validateFunction:function(e,o,l){""===o&&l(new Error("请输入密码"))}}]},repassword:{rules:[{required:!0,errorMessage:"确认密码不能为空"},{trigger:"blur",validateFunction:(e,o,l,t)=>{""===o?t("请再次输入密码"):o!==this.formData.password&&(t("两次输入密码不一致!"),this.$refs.form.validateField("password"))}}]},code:{rules:[{require:!0,errorMessage:"验证码不能为空"},{validateFunction:function(e,o,l,t){o.length<4&&t("验证码为四位数字")}}]}}}},onReady(){this.loginType=2},onLoad(){},mounted(){},methods:{getPhoneNumber(o){console.log(o,"eeeeee"),e.getUserPhone(o.detail)},bindGetUserInfo(e){console.log(e,"获取用户信息")},loginPhoneClick(){this.loginType=2},loginIconClick(){this.loginType=1},checkedRadio(){this.isChecked=!this.isChecked},formSubmit(e){this.$refs.form.validate().then((e=>{console.log("表单数据信息：",e);let a={params:{phone:e.phone,code:e.code},callBack:e=>{o("token",e.token),o("userInfo",e),l({title:"登陆成功",icon:"success"}),setTimeout((()=>{t({url:"/pages/my/my"})}),1e3)}};this.$http("phoneCodeLogin",a)})).catch((e=>{console.log("表单错误信息：",e)}))},formReset(){},onSendCode(){this.$refs.form.validateField("phone").then((e=>{console.log(e,"手机号校验");let o=this,l=60;o.getPhoneCode();let t=setInterval((function(){this.disabledCode=!0,0===l?(o.disabledCode=!1,clearInterval(t),o.codeText="发送验证码",l=60):(o.codeText=`${l}秒后重发`,l--)}),1e3)})).catch((e=>{console.log("手机号必填",e)}))},getPhoneCode(){let e={params:{phone:this.formData.phone},callBack:e=>{console.log(e,"getPhoneCode"),l({title:"验证码发送成功"})}};this.$http("getPhoneCode",e)},region(){console.log("this.buttonText",this.buttonText),this.loginType=2===this.loginType?3:2,this.buttonText=2===this.loginType?"立即注册":"返回登陆",console.log("立即注册")},forget(){this.loginType=4,this.buttonText="返回登陆",console.log("忘记密码")}}},[["render",function(e,o,l,t,w,V){const j=f,P=i,I=m,U=h,$=k(g("uni-easyinput"),x),F=k(g("uni-forms-item"),b),R=y,q=_,S=k(g("uni-forms"),T);return a(),s(P,{class:"container"},{default:n((()=>[r(P,{class:"head"},{default:n((()=>[4===w.loginType?(a(),s(P,{key:0,class:"img-head"},{default:n((()=>[r(j,{style:{"font-size":"24px","font-weight":"600"}},{default:n((()=>[d("重置密码")])),_:1})])),_:1})):(a(),s(P,{key:1,class:"img-head"},{default:n((()=>[r(I,{class:"avatar-img",src:C,alt:""})])),_:1})),r(P,{style:{"font-size":"14px",margin:"20px 0 40px 0"}},{default:n((()=>[d("快乐学习，轻松上岸")])),_:1}),r(P,{style:{disply:"flex","justify-content":"center"}},{default:n((()=>[1===w.loginType?(a(),s(P,{key:0,class:"uni-padding-wrap uni-common-mt"},{default:n((()=>[r(U,{type:"primary",width:"100%","open-type":"getPhoneNumber",onGetphonenumber:V.getPhoneNumber,class:"btn-empower"},{default:n((()=>[d("手机号快捷登陆")])),_:1},8,["onGetphonenumber"])])),_:1})):c("",!0),r(S,{ref:"form",border:!1,rules:w.rules,model:w.formData,"label-position":"left",style:{padding:"0 10px"}},{default:n((()=>[2===w.loginType?(a(),s(F,{key:0,name:"phone"},{default:n((()=>[r($,{class:"login-input",trim:"all",maxlength:"11",type:"number",modelValue:w.formData.phone,"onUpdate:modelValue":o[0]||(o[0]=e=>w.formData.phone=e),placeholder:"请输入手机号"},null,8,["modelValue"])])),_:1})):c("",!0),2===w.loginType||3===w.loginType?(a(),s(F,{key:1,class:"login-code",name:"code"},{default:n((()=>[r(P,{style:{display:"flex!important"}},{default:n((()=>[r(P,{style:{width:"calc(100vw - 90px)"}},{default:n((()=>[r($,{styles:w.styles,maxlength:"6",type:"number",modelValue:w.formData.code,"onUpdate:modelValue":o[1]||(o[1]=e=>w.formData.code=e),placeholder:"请输入验证码"},null,8,["styles","modelValue"])])),_:1}),r(P,{class:u([1==w.disabledCode?"code_text_tap":"code_text"]),onClick:V.onSendCode,disabled:w.disabledCode},{default:n((()=>[d(p(w.codeText),1)])),_:1},8,["class","onClick","disabled"])])),_:1})])),_:1})):c("",!0),3===w.loginType||4===w.loginType?(a(),s(F,{key:2,trim:"all",name:"password"},{default:n((()=>[r($,{class:"login-input",type:"password",modelValue:w.formData.password,"onUpdate:modelValue":o[2]||(o[2]=e=>w.formData.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})):c("",!0),4===w.loginType?(a(),s(F,{key:3,trim:"all",name:"repassword"},{default:n((()=>[r($,{class:"login-input",type:"password",modelValue:w.formData.repassword,"onUpdate:modelValue":o[3]||(o[3]=e=>w.formData.repassword=e),placeholder:"请再次输入新密码"},null,8,["modelValue"])])),_:1})):c("",!0),r(P,{style:{"margin-top":"20px"}},{default:n((()=>[1!==w.loginType?(a(),s(F,{key:0},{default:n((()=>[r(U,{class:"button login-btn",type:"primary",onClick:V.formSubmit},{default:n((()=>[d(p(3===w.loginType?"注册":"登陆"),1)])),_:1},8,["onClick"])])),_:1})):c("",!0)])),_:1}),r(P,{class:"uni-padding-wrap"},{default:n((()=>[r(q,{class:"radio",style:{display:"flex","margin-top":"5px"}},{default:n((()=>[r(R,{value:"r1",checked:w.isChecked,onChange:V.checkedRadio,style:{transform:"scale(0.7)",color:"#4674f6"}},null,8,["checked","onChange"]),r(P,null,{default:n((()=>[r(j,null,{default:n((()=>[d("若手机号未注册将进入注册流程，注册即视为同意")])),_:1}),r(j,{style:{color:"#4674f6"}},{default:n((()=>[d("《服务条款》")])),_:1}),d("和 "),r(j,{style:{color:"#4674f6"}},{default:n((()=>[d("《隐私策略》")])),_:1})])),_:1})])),_:1})])),_:1}),r(P,{style:{display:"flex","justify-content":"center"}},{default:n((()=>[r(P,{class:"other-login"},{default:n((()=>[r(P,{class:"other-text"},{default:n((()=>[r(P,{class:"text",style:{"font-size":"12px",color:"#cbcbcb"}},{default:n((()=>[d("其他登陆方式")])),_:1})])),_:1}),r(P,{class:"icon-type",style:{"justify-content":"center"}},{default:n((()=>[1!==w.loginType?(a(),s(P,{key:0,onClick:V.loginIconClick,class:"icon-text"},{default:n((()=>[r(I,{class:"login-type",src:v,alt:""}),r(j,null,{default:n((()=>[d("微信")])),_:1})])),_:1},8,["onClick"])):c("",!0),1===w.loginType?(a(),s(P,{key:1,onClick:V.loginPhoneClick,class:"icon-text"},{default:n((()=>[r(I,{class:"login-type",src:D,alt:""}),r(j,null,{default:n((()=>[d("手机")])),_:1})])),_:1},8,["onClick"])):c("",!0)])),_:1})])),_:1})])),_:1})])),_:1},8,["rules","model"])])),_:1})])),_:1}),r(P,{style:{padding:"0 20px"}})])),_:1})}],["__scopeId","data-v-39cb55ea"]]);export{V as default};
