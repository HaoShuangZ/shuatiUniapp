import{p as e,aQ as a,I as s,a0 as r,o,d as i,w as t,m as l,e as m,i as u,D as n,T as c}from"./index-708d8c77.js";import{_ as d}from"./uni-easyinput.887c0857.js";import{r as p}from"./uni-app.es.83c46ea6.js";import{_ as f,a as h}from"./uni-forms.59b93cf5.js";import{_ as v}from"./uni-section.87462984.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.45c91a6e.js";const F=_({data:()=>({valiFormData:{userId:"",nickName:"",mobilephone:"",headPicture:"",password:"123456",rePassword:"123456"},rules:{nickName:{rules:[{required:!0,errorMessage:"姓名不能为空"}]},mobilephone:{rules:[{required:!0,errorMessage:"年龄不能为空"},{format:"number",errorMessage:"年龄只能输入数字"}]}}}),onLoad(){},onReady(){this.valiFormData.nickName=e("userInfo").nickName,this.valiFormData.userId=e("userInfo").userId,this.valiFormData.mobilephone=e("userInfo").mobilephone,this.valiFormData.headPicture=e("userInfo").headPicture},methods:{onClickItem(e){console.log(e),this.current=e.currentIndex},submit(e){this.$refs[e].validate().then((e=>{this.submitFormData()})).catch((e=>{console.log("err",e)}))},submitFormData(){let e={params:{...this.valiFormData},callBack:e=>{console.log("res",e),e&&(a({key:"userInfo",success:()=>{}}),s({title:"修改成功",icon:"success",success:()=>{setTimeout((()=>{r({url:"/pages/my/my"})}),1500)}}))}};this.$http("modifyUserInfo",e)}}},[["render",function(e,a,s,r,_,F){const I=p(n("uni-easyinput"),d),b=p(n("uni-forms-item"),f),D=p(n("uni-forms"),h),k=c,y=l,g=p(n("uni-section"),v);return o(),i(y,{class:"container"},{default:t((()=>[m(g,null,{default:t((()=>[m(y,{class:"example"},{default:t((()=>[m(D,{ref:"valiForm",rules:_.rules,modelValue:_.valiFormData},{default:t((()=>[m(b,{label:"昵称",required:"",name:"name"},{default:t((()=>[m(I,{modelValue:_.valiFormData.nickName,"onUpdate:modelValue":a[0]||(a[0]=e=>_.valiFormData.nickName=e),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1})])),_:1},8,["rules","modelValue"]),m(k,{class:"submit",type:"primary",onClick:a[1]||(a[1]=e=>F.submit("valiForm"))},{default:t((()=>[u("提交")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-c6c3b556"]]);export{F as default};
