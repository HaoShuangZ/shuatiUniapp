import{p as e,t,B as a,o as s,d as r,w as i,m as o,H as n,e as l,n as c,x as h,A as g,F as u,i as y,G as d,D as p,S as m,f as C}from"./index-708d8c77.js";import{_ as f}from"./uni-search-bar.786de5b6.js";import{r as B}from"./uni-app.es.83c46ea6.js";import{_ as H}from"./uni-section.87462984.js";import{_ as L}from"./uni-icons.45c91a6e.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";const _=k({data:()=>({searchVal:"",questionList:[],childrenList:[],currentCheckType:"",statusBarHeight:e("phoneInfo").statusBarHeight+"px",navigationBarHeight:e("navigationBarHeight")+"px",menuButtonHeight:e("menuButtonHeight")+"px",navigationBarAndStatusBarHeight:e("statusBarHeight")+e("navigationBarHeight")+"px",screenHeight:e("screenHeight")+"px",safeAreaHeight:e("safeAreaHeight")+"px"}),onLoad(){},onShow(){this.getCategoryTypeList(),console.log("navigationBarAndStatusBarHeight",this.navigationBarAndStatusBarHeight)},methods:{clear(){this.searchVal="",this.getCategoryTypeList()},confirm(e){console.log("搜索",this.searchVal),this.searchVal?this.getCategoryName():this.getCategoryTypeList()},getCategoryName(){let e={params:{keyword:this.searchVal},callBack:e=>{console.log("查询到的详情",e),e[0].line=!0,this.currentCheckType=e[0].categoryName,this.childrenList=e}};this.$http("getCategoryTreeChild",e)},hrefRouterApp(e){console.log("jump",e,e.children),0===e.children.length?(t("pid",e.categoryId),t("currentCategoryId",""),t("currentCategoryDetail",e),a({url:`../constructor/constructorItem?categoryId=${e.categoryId}&categoryName=${e.categoryName}&parentId=${e.parentId}`})):a({url:`../constructor/constructor?categoryf=${this.currentCheckType}&categoryc=${e.categoryName}`,success:t=>{console.log("res.data",e),t.eventChannel.emit("list",{data:e.children})}})},getCategoryTypeList(){let e={callBack:e=>{e.length>1&&t("categoryParams",e),e[0].line=!0,this.currentCheckType=e[0].categoryName,this.questionList=e,this.childrenList=e[0].children}};this.$http("getCategoryType",e)},getCategoryStory(){let t=e("categoryParams");t[0].line=!0,this.currentCheckType=t[0].categoryName,this.questionList=t,this.childrenList=t[0].children},changeCategoryType(e){console.log("item",e),this.delCategoryLine(),e.line=!0,this.currentCheckType=e.categoryName,this.childrenList=e.children},delCategoryLine(){this.questionList.map((e=>{e.line=!1}))},handleSearch(){}}},[["render",function(e,t,a,k,_,T){const v=B(p("uni-search-bar"),f),N=B(p("uni-section"),H),V=o,x=B(p("uni-icons"),L),I=m;return s(),r(V,{class:"page"},{default:i((()=>[n("div",{class:"container"},[l(v,{class:"nav-bar-input",placeholder:"请输入要搜索的文档",onConfirm:T.confirm,cancelButton:"none",modelValue:_.searchVal,"onUpdate:modelValue":t[0]||(t[0]=e=>_.searchVal=e),onClear:T.clear},null,8,["onConfirm","modelValue","onClear"]),l(V,{class:"content"},{default:i((()=>[l(V,{class:"left",style:c({height:`calc(100vh - ${_.statusBarHeight})`})},{default:i((()=>[(s(!0),h(u,null,g(_.questionList,((e,t)=>(s(),r(N,{onClick:t=>T.changeCategoryType(e),title:e.categoryName,type:e.line?"line":"",key:e.categoryId,class:C(e.line?"active-line":null)},null,8,["onClick","title","type","class"])))),128))])),_:1},8,["style"]),l(V,{class:"right",style:c({height:`calc(100vh - ${_.statusBarHeight})`})},{default:i((()=>[l(I,{ref:"scrollView","scroll-y":"true","show-scrollbar":!1},{default:i((()=>[l(V,{class:"list-title"},{default:i((()=>[y(d(_.currentCheckType),1)])),_:1}),(s(!0),h(u,null,g(_.childrenList,((e,t)=>(s(),r(V,{onClick:t=>T.hrefRouterApp(e),key:t,class:"list-childer"},{default:i((()=>[y(d(e.categoryName)+" ",1),l(V,{class:"list-right"},{default:i((()=>[l(x,{type:"forward",size:"20"})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1},512)])),_:1},8,["style"])])),_:1})])])),_:1})}],["__scopeId","data-v-4dbff466"]]);export{_ as default};
