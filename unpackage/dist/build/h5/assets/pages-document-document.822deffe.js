import{t,B as e,p as a,o as s,d as i,w as o,m as n,e as l,n as c,x as r,A as u,F as g,i as d,D as h,E as m,G as p,l as y}from"./index-708d8c77.js";import{_ as f}from"./uni-search-bar.786de5b6.js";import{r as L}from"./uni-app.es.83c46ea6.js";import{_}from"./uni-section.87462984.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.45c91a6e.js";const B=C({onLoad(){this.getCategoryTypeList()},onShow(){this.getCategoryTypeList()},methods:{clear(){this.docName="",this.getDocumentList()},cancel(){this.getDocumentList()},confirm(t){this.getDocumentList()},goDocumentView(a){console.log(a),t("docDetail",a),e({url:"../docView/docView"})},typeChange(t){this.currentCategoryId=t.categoryId,this.getDocumentList(),this.questionList.map((e=>{e.line=!1,e.categoryId===t.categoryId&&(e.line=!0)}))},categoryInit(t){this.questionList=[{categoryId:"",categoryName:"全部",children:[],level:1,line:!0,parentFlag:!0,parentId:0},...t]},getCategoryTypeList(){let e={callBack:e=>{e.length>1&&(t("categoryParams",e),this.categoryInit(e),this.getDocumentList())}},s=a("categoryParams");s?(this.categoryInit(s),this.getDocumentList()):this.$http("getCategoryType",e)},getDocumentList(){let t={params:{categoryId:this.currentCategoryId,docName:this.docName,page:1,size:100},callBack:t=>{this.documentList=t.records}};this.$http("getDocumentList",t)}},data:()=>({searchVal:"",currentCategoryId:"",questionList:[],docName:"",documentList:[],statusBarHeight:a("phoneInfo").statusBarHeight+"px",navigationBarHeight:a("navigationBarHeight")+"px",menuButtonHeight:a("menuButtonHeight")+"px",navigationBarAndStatusBarHeight:a("statusBarHeight")+a("navigationBarHeight")+"px"})},[["render",function(t,e,a,C,B,I){const x=L(h("uni-search-bar"),f),D=L(h("uni-section"),_),H=n,v=y,k=m;return s(),i(H,{class:"page"},{default:o((()=>[l(x,{class:"nav-bar-input",placeholder:"请输入要搜索的文档",onConfirm:I.confirm,cancelButton:"none",modelValue:B.docName,"onUpdate:modelValue":e[0]||(e[0]=t=>B.docName=t),onClear:I.clear},null,8,["onConfirm","modelValue","onClear"]),l(H,{class:"container"},{default:o((()=>[l(H,{class:"left",style:c({height:`calc(100vh - ${B.statusBarHeight})`})},{default:o((()=>[(s(!0),r(g,null,u(B.questionList,((t,e)=>(s(),i(D,{title:t.categoryName,type:t.line?"line":"",key:t.categoryId,onClick:e=>I.typeChange(t)},null,8,["title","type","onClick"])))),128))])),_:1},8,["style"]),l(H,{class:"right",style:c({height:`calc(100vh - ${B.statusBarHeight})`})},{default:o((()=>[B.documentList.length>0?(s(!0),r(g,{key:0},u(B.documentList,((t,e)=>(s(),i(H,{class:"list-native",key:e,onClick:e=>I.goDocumentView(t)},{default:o((()=>[l(v,{src:".docx"===t.type?"../../static/doc.png":`../../static/${t.type}.png`,class:"icon-type",alt:""},null,8,["src"]),l(k,{class:"list-text"},{default:o((()=>[l(k,null,{default:o((()=>[d(p(t.docName)+p(t.type),1)])),_:2},1024),l(k,{class:"other-text"},{default:o((()=>[l(k,{class:"text-down"},{default:o((()=>[d(p(t.downloadNum||0)+"下载",1)])),_:2},1024),l(k,{class:"text-page"},{default:o((()=>[d("10页")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(s(),i(H,{key:1,class:"data-null"},{default:o((()=>[l(k,null,{default:o((()=>[d("暂无数据")])),_:1})])),_:1}))])),_:1},8,["style"])])),_:1})])),_:1})}],["__scopeId","data-v-eeeb4f5e"]]);export{B as default};
