"use strict";const o=require("../common/vendor.js"),p=require("./config.js"),n=require("./api.js");new Proxy({},{get(e,t){throw new Error(`Module "path" has been externalized for browser compatibility. Cannot access "path.${t}" in client code.  See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}});function u(e,t={}){console.log(e,t,"获取请求的参数");let{params:h,contentType:y,isBody:m="true",query:r="",callBack:a}=t,i=[];o.index.getStorageSync("token"),console.log('"development"',"development",!0);let d=p.baseUrl+n.api[e].url+r;i={"Ac-Token":o.index.getStorageSync("token")||"","Content-Type":n.api[e].contentType?n.api[e].contentType:"application/json",Accept:"application/json"},o.index.request({url:d,data:t.params,header:i,method:n.api[e].method==null?"POST":n.api[e].method,dataType:"json",responseType:t.responseType===void 0?"text":t.responseType,success:function(s){const{data:{code:c,data:l,message:g}}=s;if(c===1500)return o.index.hideLoading(),o.index.showModal({title:"提示",content:"请登录后再进行操作",confirmText:"确定",success:T=>{}});a(l)},fail:function(s){o.index.hideLoading(),setTimeout(()=>{o.index.showToast({title:"服务器打了个盹~",icon:"none"})},1)}})}exports.request=u;
