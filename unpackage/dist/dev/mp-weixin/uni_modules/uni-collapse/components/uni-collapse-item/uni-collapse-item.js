"use strict";const n=require("../../../../common/vendor.js"),h={name:"uniCollapseItem",props:{title:{type:String,default:""},name:{type:[Number,String],default:""},disabled:{type:Boolean,default:!1},showAnimation:{type:Boolean,default:!0},open:{type:Boolean,default:!1},thumb:{type:String,default:""},titleBorder:{type:String,default:"auto"},border:{type:Boolean,default:!0},showArrow:{type:Boolean,default:!0}},data(){return{isOpen:!1,isheight:null,height:0,elId:`Uni_${Math.ceil(Math.random()*1e6).toString(36)}`,nameSync:0}},watch:{open(t){this.isOpen=t,this.onClick(t,"init")}},updated(t){this.$nextTick(()=>{this.init(!0)})},created(){this.collapse=this.getCollapse(),this.oldHeight=0,this.onClick(this.open,"init")},unmounted(){this.__isUnmounted=!0,this.uninstall()},mounted(){this.collapse&&(this.name!==""?this.nameSync=this.name:this.nameSync=this.collapse.childrens.length+"",this.collapse.names.indexOf(this.nameSync)===-1?this.collapse.names.push(this.nameSync):console.warn(`name 值 ${this.nameSync} 重复`),this.collapse.childrens.indexOf(this)===-1&&this.collapse.childrens.push(this),this.init())},methods:{init(t){this.getCollapseHeight(t)},uninstall(){this.collapse&&(this.collapse.childrens.forEach((t,e)=>{t===this&&this.collapse.childrens.splice(e,1)}),this.collapse.names.forEach((t,e)=>{t===this.nameSync&&this.collapse.names.splice(e,1)}))},onClick(t,e){this.disabled||(this.isOpen=t,this.isOpen&&this.collapse&&this.collapse.setAccordion(this),e!=="init"&&this.collapse.onChange(t,this))},getCollapseHeight(t,e=0){n.index.createSelectorQuery().in(this).select(`#${this.elId}`).fields({size:!0},l=>{if(!(e>=10)){if(!l){e++,this.getCollapseHeight(!1,e);return}this.height=l.height,this.isheight=!0,!t&&this.onClick(this.isOpen,"init")}}).exec()},getNvueHwight(t){dom.getComponentRect(this.$refs["collapse--hook"],e=>{if(e&&e.result&&e.size){if(this.height=e.size.height,this.isheight=!0,t)return;this.onClick(this.open,"init")}})},getCollapse(t="uniCollapse"){let e=this.$parent,i=e.$options.name;for(;i!==t;){if(e=e.$parent,!e)return!1;i=e.$options.name}return e}}};Array||n.resolveComponent("uni-icons")();const c=()=>"../../../uni-icons/components/uni-icons/uni-icons.js";Math||c();function a(t,e,i,l,s,o){return n.e({a:i.thumb},i.thumb?{b:i.thumb}:{},{c:n.t(i.title),d:i.disabled?1:"",e:i.showArrow},i.showArrow?{f:n.p({color:i.disabled?"#ddd":"#bbb",size:"14",type:"bottom"}),g:s.isOpen?1:"",h:i.showAnimation===!0?1:""}:{},{i:n.o(u=>o.onClick(!s.isOpen)),j:s.isOpen&&i.titleBorder==="auto"?1:"",k:i.titleBorder!=="none"?1:"",l:s.elId,m:s.isheight?1:"",n:i.border&&s.isOpen?1:"",o:i.showAnimation?1:"",p:(s.isOpen?s.height:0)+"px"})}const r=n._export_sfc(h,[["render",a],["__file","C:/Users/sygen/Documents/HBuilderProjects/brushQuestion-front/uni_modules/uni-collapse/components/uni-collapse-item/uni-collapse-item.vue"]]);wx.createComponent(r);
