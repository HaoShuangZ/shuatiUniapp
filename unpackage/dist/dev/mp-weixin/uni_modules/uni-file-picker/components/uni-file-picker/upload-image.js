"use strict";const i=require("../../../../common/vendor.js"),h={name:"uploadImage",emits:["uploadFiles","choose","delFile"],props:{filesList:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},disablePreview:{type:Boolean,default:!1},limit:{type:[Number,String],default:9},imageStyles:{type:Object,default(){return{width:"auto",height:"auto",border:{}}}},delIcon:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},computed:{styles(){return Object.assign({width:"auto",height:"auto",border:{}},this.imageStyles)},boxStyle(){const{width:e="auto",height:r="auto"}=this.styles;let t={};r==="auto"?e!=="auto"?(t.height=this.value2px(e),t["padding-top"]=0):t.height=0:(t.height=this.value2px(r),t["padding-top"]=0),e==="auto"?r!=="auto"?t.width=this.value2px(r):t.width="33.3%":t.width=this.value2px(e);let o="";for(let d in t)o+=`${d}:${t[d]};`;return o},borderStyle(){let{border:e}=this.styles,r={};const t=1,o=3;if(typeof e=="boolean")r.border=e?"1px #eee solid":"none";else{let l=e&&e.width||t;l=this.value2px(l);let s=e&&e.radius||o;s=this.value2px(s),r={"border-width":l,"border-style":e&&e.style||"solid","border-color":e&&e.color||"#eee","border-radius":s}}let d="";for(let l in r)d+=`${l}:${r[l]};`;return d}},methods:{uploadFiles(e,r){this.$emit("uploadFiles",e)},choose(){this.$emit("choose")},delFile(e){this.$emit("delFile",e)},prviewImage(e,r){let t=[];Number(this.limit)===1&&this.disablePreview&&!this.disabled&&this.$emit("choose"),!this.disablePreview&&(this.filesList.forEach(o=>{t.push(o.url)}),i.index.previewImage({urls:t,current:r}))},value2px(e){return typeof e=="number"?e+="px":e.indexOf("%")===-1&&(e=e.indexOf("px")!==-1?e:e+"px"),e}}};function n(e,r,t,o,d,l){return i.e({a:i.f(t.filesList,(s,a,c)=>i.e({a:s.url,b:i.o(u=>l.prviewImage(s,a),a)},t.delIcon&&!t.readonly?{c:i.o(u=>l.delFile(a),a)}:{},{d:s.progress&&s.progress!==100||s.progress===0},s.progress&&s.progress!==100||s.progress===0?{e:s.progress===-1?0:s.progress,f:s.errMsg?"#ff5a5f":"#EBEBEB"}:{},{g:s.errMsg},s.errMsg?{h:i.o(u=>l.uploadFiles(s,a),a)}:{},{i:a})),b:t.delIcon&&!t.readonly,c:i.s(l.borderStyle),d:i.s(l.boxStyle),e:t.filesList.length<t.limit&&!t.readonly},t.filesList.length<t.limit&&!t.readonly?{f:i.s(l.borderStyle),g:i.o((...s)=>l.choose&&l.choose(...s)),h:i.s(l.boxStyle)}:{})}const f=i._export_sfc(h,[["render",n],["__file","C:/Users/sygen/Documents/HBuilderProjects/brushQuestion-front/uni_modules/uni-file-picker/components/uni-file-picker/upload-image.vue"]]);wx.createComponent(f);
