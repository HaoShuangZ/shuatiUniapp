"use strict";const i=require("../../../../common/vendor.js"),r={name:"uni-stat-select",mixins:[i.Ds.mixinDatacom||{}],data(){return{showSelector:!1,current:"",mixinDatacomResData:[],apps:[],channels:[]}},props:{localdata:{type:Array,default(){return[]}},value:{type:[String,Number],default:""},modelValue:{type:[String,Number],default:""},label:{type:String,default:""},placeholder:{type:String,default:"请选择"},emptyTips:{type:String,default:"无选项"},clear:{type:Boolean,default:!0},defItem:{type:Number,default:0},disabled:{type:Boolean,default:!1}},created(){this.last=`${this.collection}_last_selected_option_value`,this.collection&&!this.localdata.length&&this.mixinDatacomEasyGet()},computed:{typePlaceholder(){const e={"opendb-stat-app-versions":"版本","opendb-app-channels":"渠道","opendb-app-list":"应用"},l=this.placeholder,t=e[this.collection];return t?l+t:l}},watch:{localdata:{immediate:!0,handler(e,l){Array.isArray(e)&&l!==e&&(this.mixinDatacomResData=e)}},modelValue(){this.initDefVal()},mixinDatacomResData:{immediate:!0,handler(e){e.length&&this.initDefVal()}}},methods:{initDefVal(){let e="";if((this.value||this.value===0)&&!this.isDisabled(this.value))e=this.value;else if((this.modelValue||this.modelValue===0)&&!this.isDisabled(this.modelValue))e=this.modelValue;else{let t;if(this.collection&&(t=i.index.getStorageSync(this.last)),t||t===0)e=t;else{let s="";this.defItem>0&&this.defItem<this.mixinDatacomResData.length&&(s=this.mixinDatacomResData[this.defItem-1].value),e=s}this.emit(e)}const l=this.mixinDatacomResData.find(t=>t.value===e);this.current=l?this.formatItemName(l):""},isDisabled(e){let l=!1;return this.mixinDatacomResData.forEach(t=>{t.value===e&&(l=t.disable)}),l},clearVal(){this.emit(""),this.collection&&i.index.removeStorageSync(this.last)},change(e){e.disable||(this.showSelector=!1,this.current=this.formatItemName(e),this.emit(e.value))},emit(e){this.$emit("change",e),this.$emit("input",e),this.$emit("update:modelValue",e),this.collection&&i.index.setStorageSync(this.last,e)},toggleSelector(){this.disabled||(this.showSelector=!this.showSelector)},formatItemName(e){let{text:l,value:t,channel_code:s}=e;return s=s?`(${s})`:"",this.collection.indexOf("app-list")>0?`${l}(${t})`:l||`未命名${s}`}}};Array||i.resolveComponent("uni-icons")();const h=()=>"../../../uni-icons/components/uni-icons/uni-icons.js";Math||h();function m(e,l,t,s,a,o){return i.e({a:t.label},t.label?{b:i.t(t.label+"：")}:{},{c:a.current},a.current?{d:i.t(a.current)}:{e:i.t(o.typePlaceholder)},{f:a.current&&t.clear},a.current&&t.clear?{g:i.o(o.clearVal),h:i.p({type:"clear",color:"#c0c4cc",size:"24"})}:{i:i.p({type:a.showSelector?"top":"bottom",size:"14",color:"#999"})},{j:i.o((...c)=>o.toggleSelector&&o.toggleSelector(...c)),k:a.showSelector},a.showSelector?{l:i.o((...c)=>o.toggleSelector&&o.toggleSelector(...c))}:{},{m:a.showSelector},a.showSelector?i.e({n:a.mixinDatacomResData.length===0},a.mixinDatacomResData.length===0?{o:i.t(t.emptyTips)}:{p:i.f(a.mixinDatacomResData,(c,n,d)=>({a:i.t(o.formatItemName(c)),b:c.disable?1:"",c:n,d:i.o(f=>o.change(c),n)}))}):{},{q:t.disabled?1:"",r:a.current?1:""})}const u=i._export_sfc(r,[["render",m],["__file","C:/Users/sygen/Documents/HBuilderProjects/brushQuestion-front/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue"]]);wx.createComponent(u);
