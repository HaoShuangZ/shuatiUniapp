"use strict";const e=require("../../common/vendor.js"),a={data(){return{valiFormData:{userId:"",nickName:"",mobilephone:"",headPicture:"",password:"123456",rePassword:"123456"},rules:{nickName:{rules:[{required:!0,errorMessage:"姓名不能为空"}]},mobilephone:{rules:[{required:!0,errorMessage:"年龄不能为空"},{format:"number",errorMessage:"年龄只能输入数字"}]}}}},onLoad(){},onReady(){this.valiFormData.nickName=e.index.getStorageSync("userInfo").nickName,this.valiFormData.userId=e.index.getStorageSync("userInfo").userId,this.valiFormData.mobilephone=e.index.getStorageSync("userInfo").mobilephone,this.valiFormData.headPicture=e.index.getStorageSync("userInfo").headPicture},methods:{onClickItem(o){console.log(o),this.current=o.currentIndex},submit(o){this.$refs[o].validate().then(s=>{this.submitFormData()}).catch(s=>{console.log("err",s)})},submitFormData(){let o={params:{...this.valiFormData},callBack:s=>{console.log("res",s),s&&(e.index.removeStorage({key:"userInfo",success:()=>{}}),e.index.showToast({title:"修改成功",icon:"success",success:()=>{setTimeout(()=>{e.index.switchTab({url:"/pages/my/my"})},1500)}}))}};this.$http("modifyUserInfo",o)}}};if(!Array){const o=e.resolveComponent("uni-easyinput"),s=e.resolveComponent("uni-forms-item"),i=e.resolveComponent("uni-forms"),r=e.resolveComponent("uni-section");(o+s+i+r)()}const m=()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js",c=()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js",l=()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js",_=()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js";Math||(m+c+l+_)();function d(o,s,i,r,n,u){return{a:e.o(t=>n.valiFormData.nickName=t),b:e.p({placeholder:"请输入用户名",modelValue:n.valiFormData.nickName}),c:e.p({label:"昵称",required:!0,name:"name"}),d:e.sr("valiForm","09bce2f1-1,09bce2f1-0"),e:e.p({rules:n.rules,modelValue:n.valiFormData}),f:e.o(t=>u.submit("valiForm"))}}const f=e._export_sfc(a,[["render",d],["__scopeId","data-v-09bce2f1"],["__file","C:/Users/sygen/Documents/HBuilderProjects/brushQuestion-front/pages/my/userInfoModify.vue"]]);wx.createPage(f);
