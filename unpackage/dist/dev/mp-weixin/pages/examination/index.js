"use strict";const e=require("../../common/vendor.js"),l={onLoad(s){console.log("模拟考试页面获取的参数",s)},data(){return{formData:{radio:"10",radioScore:"1",multiple:"10",multipleScore:"1",examTime:"40",score:"15",showRight:!1,optionOrder:!1,worongPrior:!1,doneNot:!1,moreDataWay:1},range:[{value:0,text:"漏题，按正常答案选项数，算平均分"},{value:1,text:"全部选对，才算得分"},{value:2,text:"漏选，得 50% 分"}],rules:{radio:{rules:[{required:!0,errorMessage:"题目数量必填"},{validateFunction:(s,n,o,a)=>(console.log(n,"value"),n>0&&n<=100?!0:a("题目数小于100"))}]},radioScore:{rules:[{required:!0,errorMessage:"分值不能为空"},{validateFunction:(s,n,o,a)=>(console.log(n,"value"),n>0&&n<=10?!0:a("分值必须小于10"))}]},multiple:{rules:[{required:!0,errorMessage:"多选题目数量不能为空"},{validateFunction:(s,n,o,a)=>(console.log(n,"value"),n>0&&n<=200?!0:a("多选题数量必须小于200"))}]},multipleScore:{rules:[{required:!0,errorMessage:"多选题目分数不能为空"},{validateFunction:(s,n,o,a)=>(console.log(n,"value"),n>0&&n<=20?!0:a("多选题分数小于20"))}]},examTime:{rules:[{required:!0,errorMessage:"考试时间不能为空"}]},score:{rules:[{required:!0,errorMessage:"及格分数不能为空"},{validateFunction:(s,n,o,a)=>{console.log("及格分数",o);let r=(o==null?void 0:o.radio)*(o==null?void 0:o.radioScore)+(o==null?void 0:o.multiple)*(o==null?void 0:o.multipleScore);if(n>=r)return a("及格分数必须小于总分数")}}]}}}},methods:{vipSwitch(s){e.index.getStorageSync("userInfo").vipFlag==1e3?(this.formData[s]=!1,e.index.showModal({title:"提示",content:"该功能为VIP专享服务，请购买VIP",confirmText:"前往购买",success:o=>{console.log(o),o.confirm&&e.index.redirectTo({url:"../vip/vip"})}})):s=="optionOrder"?this.formData.optionOrder=!this.formData.optionOrder:this.formData.worongPrior=!this.formData.worongPrior},submitForm(){this.$refs.formData.validate().then(s=>{console.log("res",s),e.index.getStorageSync("userInfo").vipFlag==1e3?e.index.showModal({title:"提示",content:"该功能为VIP专享服务，请购买VIP",confirmText:"前往购买",success:o=>{console.log(o),o.confirm&&e.index.redirectTo({url:"../vip/vip"})}}):(e.index.setStorageSync("examSetting",s),e.index.setStorageSync("answerDataList",[]),e.index.setStorageSync("exerciseResult",{}),e.index.navigateTo({url:"../answer/index?listType=1"}))}).catch(s=>{console.log("表单验证错误",s)})}},computed:{totalTopic(){return Number(this.formData.radio)+Number(this.formData.multiple)},totalScore(){return Number(this.formData.radioScore)*Number(this.formData.radio)+Number(this.formData.multipleScore)*Number(this.formData.multiple)}}};if(!Array){const s=e.resolveComponent("uni-col"),n=e.resolveComponent("uni-row"),o=e.resolveComponent("uni-easyinput"),a=e.resolveComponent("uni-forms-item"),r=e.resolveComponent("uni-data-select"),i=e.resolveComponent("uni-forms");(s+n+o+a+r+i)()}const u=()=>"../../uni_modules/uni-row/components/uni-col/uni-col.js",m=()=>"../../uni_modules/uni-row/components/uni-row/uni-row.js",p=()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js",c=()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js",f=()=>"../../uni_modules/uni-data-select/components/uni-data-select/uni-data-select.js",_=()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js";Math||(u+m+p+c+f+_)();function d(s,n,o,a,r,i){return{a:e.p({span:8}),b:e.p({span:8}),c:e.p({span:8}),d:e.p({span:8}),e:e.o(t=>r.formData.radio=t),f:e.p({clearable:!1,type:"number",modelValue:r.formData.radio}),g:e.p({name:"radio"}),h:e.p({span:8}),i:e.o(t=>r.formData.radioScore=t),j:e.p({clearable:!1,type:"number",modelValue:r.formData.radioScore}),k:e.p({name:"radioScore"}),l:e.p({span:8}),m:e.p({span:8}),n:e.o(t=>r.formData.multiple=t),o:e.p({clearable:!1,type:"number",modelValue:r.formData.multiple}),p:e.p({name:"multiple"}),q:e.p({span:8}),r:e.o(t=>r.formData.multipleScore=t),s:e.p({clearable:!1,type:"number",modelValue:r.formData.multipleScore}),t:e.p({name:"multipleScore"}),v:e.p({span:8}),w:e.t(i.totalTopic),x:e.p({offset:2,span:10}),y:e.t(i.totalScore),z:e.p({span:10}),A:e.p({span:11}),B:e.o(t=>r.formData.examTime=t),C:e.p({clearable:!1,type:"number",modelValue:r.formData.examTime}),D:e.p({name:"examTime"}),E:e.p({span:10}),F:e.p({span:3}),G:e.p({span:11}),H:e.o(t=>r.formData.score=t),I:e.p({clearable:!1,type:"number",modelValue:r.formData.score}),J:e.p({name:"score"}),K:e.p({span:10}),L:e.p({span:3}),M:e.p({span:20}),N:r.formData.showRight,O:e.o(()=>{this.formData.showRight=!this.formData.showRight}),P:e.p({name:"showRight"}),Q:e.p({span:2}),R:e.p({span:20}),S:r.formData.optionOrder,T:e.o(t=>i.vipSwitch("optionOrder")),U:e.p({name:"optionOrder"}),V:e.p({span:2}),W:e.p({span:20}),X:r.formData.worongPrior,Y:e.o(t=>i.vipSwitch("worongPrior")),Z:e.p({name:"worongPrior"}),aa:e.p({span:2}),ab:e.p({span:20}),ac:r.formData.doneNot,ad:e.o(t=>i.vipSwitch("doneNot")),ae:e.p({name:"doneNot"}),af:e.p({span:2}),ag:e.p({span:5}),ah:e.o(s.change),ai:e.o(t=>r.formData.moreDataWay=t),aj:e.p({localdata:r.range,label:"请选择",modelValue:r.formData.moreDataWay}),ak:e.p({name:"moreDataWay"}),al:e.p({span:19}),am:e.o((...t)=>i.submitForm&&i.submitForm(...t)),an:e.sr("formData","0f97e6b1-0"),ao:e.p({modelValue:r.formData,rules:r.rules})}}const g=e._export_sfc(l,[["render",d],["__file","C:/Users/sygen/Documents/HBuilderProjects/brushQuestion-front/pages/examination/index.vue"]]);wx.createPage(g);
