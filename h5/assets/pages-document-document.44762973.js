import{t,B as e,p as a,o as s,d as i,w as o,m as n,e as l,H as c,i as r,n as u,x as d,A as g,F as m,J as p,D as h,E as y,G as f,l as _}from"./index-25a8f5ab.js";import{_ as L}from"./uni-nav-bar.82c3c019.js";import{r as C}from"./uni-app.es.64b73443.js";import{_ as x}from"./uni-section.45fa45a0.js";import{_ as B}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.35026b90.js";const I=B({onLoad(){this.getCategoryTypeList()},onShow(){this.getCategoryTypeList()},methods:{confirm(t){this.getDocumentList()},goDocumentView(a){console.log(a),t("docDetail",a),e({url:"../docView/docView"})},typeChange(t){this.currentCategoryId=t.categoryId,this.getDocumentList(),this.questionList.map((e=>{e.line=!1,e.categoryId===t.categoryId&&(e.line=!0)}))},categoryInit(t){this.questionList=[{categoryId:"",categoryName:"全部",children:[],level:1,line:!0,parentFlag:!0,parentId:0},...t]},getCategoryTypeList(){let e={callBack:e=>{e.length>1&&(console.log(e,"res"),t("categoryParams",e),this.categoryInit(e),this.getDocumentList())}},s=a("categoryParams");s?(this.categoryInit(s),this.getDocumentList()):this.$http("getCategoryType",e)},getDocumentList(){let t={params:{categoryId:this.currentCategoryId,docName:this.docName,page:1,size:100},callBack:t=>{this.documentList=t.records}};this.$http("getDocumentList",t)}},data:()=>({searchVal:"",currentCategoryId:"",questionList:[],docName:"",documentList:[],statusBarHeight:a("statusBarHeight")+"px",navigationBarHeight:a("navigationBarHeight")+"px",menuButtonHeight:a("menuButtonHeight")+"px",navigationBarAndStatusBarHeight:a("statusBarHeight")+a("navigationBarHeight")+"px"})},[["render",function(t,e,a,B,I,v){const k=p,D=n,H=C(h("uni-nav-bar"),L),w=C(h("uni-section"),x),N=_,V=y;return s(),i(D,{class:"page"},{default:o((()=>[l(H,{style:u({height:I.navigationBarAndStatusBarHeight,display:"flex"}),"status-bar":!0,leftWidth:0,title:""},{default:o((()=>[l(D,{class:"input-view"},{default:o((()=>[l(k,{modelValue:I.docName,"onUpdate:modelValue":e[0]||(e[0]=t=>I.docName=t),"confirm-type":"search",class:"nav-bar-input",type:"text",placeholder:"输入搜索关键词",onConfirm:v.confirm},null,8,["modelValue","onConfirm"])])),_:1}),c("template",null,[l(D,{onClick:v.confirm,class:"input-text"},{default:o((()=>[r(" 搜索 ")])),_:1},8,["onClick"])])])),_:1},8,["style"]),l(D,{class:"container"},{default:o((()=>[l(D,{class:"left"},{default:o((()=>[(s(!0),d(m,null,g(I.questionList,((t,e)=>(s(),i(w,{title:t.categoryName,type:t.line?"line":"",key:t.categoryId,onClick:e=>v.typeChange(t)},null,8,["title","type","onClick"])))),128))])),_:1}),l(D,{class:"right"},{default:o((()=>[I.documentList.length>0?(s(!0),d(m,{key:0},g(I.documentList,((t,e)=>(s(),i(D,{class:"list-native",key:e,onClick:e=>v.goDocumentView(t)},{default:o((()=>[l(N,{src:".docx"===t.type?"../../static/doc.png":`../../static/${t.type}.png`,class:"icon-type",alt:""},null,8,["src"]),l(V,{class:"list-text"},{default:o((()=>[l(V,null,{default:o((()=>[r(f(t.docName)+f(t.type),1)])),_:2},1024),l(V,{class:"other-text"},{default:o((()=>[l(V,{class:"text-down"},{default:o((()=>[r(f(t.downloadNum||0)+"下载",1)])),_:2},1024),l(V,{class:"text-page"},{default:o((()=>[r("10页")])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)):(s(),i(D,{key:1,class:"data-null"},{default:o((()=>[l(V,null,{default:o((()=>[r("暂无数据")])),_:1})])),_:1}))])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-89f99189"]]);export{I as default};
