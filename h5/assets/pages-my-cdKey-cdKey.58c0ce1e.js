import{_ as e,o as t,d as o,w as s,x as l,A as r,F as a,e as u,J as d,m as i,f as c,N as n,n as p,i as f,G as h,E as m,I as b,B as v,D as C,P as y}from"./index-25a8f5ab.js";import{_}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as x}from"./uni-app.es.64b73443.js";const B=_({name:"vcode-input",props:{autofocus:{type:Boolean,default:!0},sum:{type:Number,default:6},isBorderLine:{type:Boolean,default:!1},borderColor:{type:String,default:"#2dda7b"},borderValueColor:{type:String,default:"#424456"},borderActiveColor:{type:String,default:"#FF6B00"},isAutoComplete:{type:Boolean,default:!0},isPassword:{type:Boolean,default:!1}},data:()=>({focus:!1,text:[],value:""}),watch:{value(e,t){if(this.isAutoComplete?e.length>=this.sum&&(this.setBlur(),this.$emit("vcodeInput",e)):this.$emit("vcodeInput",e),this.isPassword){let t="";for(let o=0;o<e.length;o++)t+="●";this.text=t}else this.text=e?e.split(""):[]}},mounted(){this.$nextTick((()=>{this.initInput()}))},methods:{initInput(){this.autofocus&&(this.focus=!0)},setBlur(){e(),this.$nextTick((()=>{this.focus=!1}))},setFocus(){this.focus=!0},clearValue(){this.setBlur(),this.value="",this.text=[],this.$forceUpdate()}}},[["render",function(e,b,v,C,y,_){const x=m,B=d,g=i;return t(),o(g,{class:"vcode-input-body"},{default:s((()=>[(t(!0),l(a,null,r(v.sum,((e,l)=>(t(),o(x,{class:c(["vcode-input-item",v.isBorderLine?"vcode-input-line":"vcode-input-border"]),key:l,onClick:n(_.setFocus,["stop"]),style:p({borderColor:y.text.length===l&&y.focus?v.borderActiveColor:y.text.length>l?v.borderValueColor:v.borderColor,color:y.text.length>l?v.borderValueColor:v.borderColor})},{default:s((()=>[f(h(y.text[l]),1)])),_:2},1032,["class","onClick","style"])))),128)),u(g,{class:"hidden-input"},{default:s((()=>[u(B,{type:"number","show-confirm-bar":!1,"auto-blur":"",cursor:99,focus:y.focus,maxlength:v.sum,modelValue:y.value,"onUpdate:modelValue":b[0]||(b[0]=e=>y.value=e),onBlur:_.setBlur,onFocus:_.setFocus,password:v.isPassword,placeholder:"验证码"},null,8,["focus","maxlength","modelValue","onBlur","onFocus","password"])])),_:1})])),_:1})}],["__scopeId","data-v-430bc28b"]]);const g=_({components:{vcodeInput:B},data:()=>({cdKey:"",borderColorDefault:"#f7f7f7",borderActiveColor:"#f7f7f7"}),onShow(){this.borderColorDefault="#000000",this.borderActiveColor="#000000"},methods:{vcodeInput(e){console.log(e),this.cdKey=e},submit(){if(6==this.cdKey.length){let e={params:{activeCode:this.cdKey},callBack:e=>{console.log("激活结果",e),b({title:"激活成功！",icon:"success",duration:1500}),setTimeout((()=>{v({url:"/pages/my/my"})}),1500)}};this.$http("vipActive",e)}else b({title:"激活码错误！",icon:"error"})}}},[["render",function(e,l,r,a,d,c){const n=x(C("vcode-input"),B),p=i,h=y;return t(),o(p,{class:"cdKey"},{default:s((()=>[u(p,{class:"cdKey_input"},{default:s((()=>[u(n,{ref:"VcodeInput",sum:6,isBorderLine:!1,borderColor:d.borderColorDefault,borderValueColor:"#4674F6",borderActiveColor:d.borderActiveColor,onVcodeInput:c.vcodeInput},null,8,["borderColor","borderActiveColor","onVcodeInput"])])),_:1}),u(p,{class:"cdKey_btn"},{default:s((()=>[u(h,{onClick:c.submit},{default:s((()=>[f("确定")])),_:1},8,["onClick"])])),_:1}),u(p,{class:"cdKey_info"},{default:s((()=>[u(p,{class:"title"},{default:s((()=>[f(" 激活码规则 ")])),_:1}),u(p,{class:"text"},{default:s((()=>[f(" 1.仅供本人使用，有效期根据后台配置时间 。 ")])),_:1}),u(p,{class:"text"},{default:s((()=>[f(" 2.仅供内部渠道学员使用。 ")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-58dae6de"]]);export{g as default};
